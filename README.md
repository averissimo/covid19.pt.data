COVID-19 Portugal data
================

> R package with latest data scrapped from official sources

It downloads the [daily
report](https://covid19.min-saude.pt/relatorio-de-situacao/) from DGS
and stores this in data-friendly format under `/data` directory.

## Check for new reports

``` r
dat <- download.updated.pt()

dgs.pt.new     <- dat$dgs.pt
covid19.pt.new <- dat$cdc.eu
```

## Stores in the package

``` r
# DGS PT
if (nrow(dgs.pt.new) != nrow(dgs.pt)) {
  dgs.pt <- dgs.pt.new
  usethis::use_data(dgs.pt, overwrite = TRUE)
  readr::write_csv(dgs.pt, path = '../data/dgs_pt.csv')
}

# EU CDC
covid19.pt <- tibble()
tryCatch(covid19.pt <- covid19.pt.data::covid19.pt, error = function(err) { })

if (nrow(covid19.pt.new) != nrow(covid19.pt)) {
  covid19.pt <- covid19.pt.new
  usethis::use_data(covid19.pt, overwrite = TRUE)
  readr::write_csv(covid19.pt, path = '../data/covid19_pt.csv')
}
```

## Data from DGS

<div data-pagedtable="false">

<script data-pagedtable-source type="application/json">
{"columns":[{"label":["country"],"name":[1],"type":["chr"],"align":["left"]},{"label":["date"],"name":[2],"type":["date"],"align":["right"]},{"label":["confirmed"],"name":[3],"type":["int"],"align":["right"]},{"label":["deaths"],"name":[4],"type":["int"],"align":["right"]},{"label":["recoveries"],"name":[5],"type":["int"],"align":["right"]}],"data":[{"1":"Portugal","2":"2020-04-02","3":"9034","4":"209","5":"68"},{"1":"Portugal","2":"2020-04-01","3":"8251","4":"187","5":"43"},{"1":"Portugal","2":"2020-03-31","3":"7443","4":"160","5":"43"},{"1":"Portugal","2":"2020-03-30","3":"6408","4":"140","5":"43"},{"1":"Portugal","2":"2020-03-29","3":"5962","4":"119","5":"43"},{"1":"Portugal","2":"2020-03-28","3":"5170","4":"100","5":"43"},{"1":"Portugal","2":"2020-03-27","3":"4268","4":"76","5":"43"},{"1":"Portugal","2":"2020-03-26","3":"3544","4":"60","5":"43"},{"1":"Portugal","2":"2020-03-25","3":"2995","4":"43","5":"22"},{"1":"Portugal","2":"2020-03-24","3":"2362","4":"33","5":"22"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>

</div>

## Data from EU CDC updated

``` r
covid19.pt.new %>% rmarkdown::paged_table()
```

<div data-pagedtable="false">

<script data-pagedtable-source type="application/json">
{"columns":[{"label":["dateRep"],"name":[1],"type":["chr"],"align":["left"]},{"label":["day"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["month"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["year"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["cases"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["deaths"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["countryterritoryCode"],"name":[7],"type":["chr"],"align":["left"]},{"label":["geoId"],"name":[8],"type":["chr"],"align":["left"]},{"label":["popData2018"],"name":[9],"type":["dbl"],"align":["right"]},{"label":["countriesAndTerritories"],"name":[10],"type":["chr"],"align":["left"]}],"data":[{"1":"03/04/2020","2":"3","3":"4","4":"2020","5":"783","6":"22","7":"PRT","8":"PT","9":"10281762","10":"NA"},{"1":"02/04/2020","2":"2","3":"4","4":"2020","5":"808","6":"27","7":"PRT","8":"PT","9":"10281762","10":"Portugal"},{"1":"01/04/2020","2":"1","3":"4","4":"2020","5":"1035","6":"20","7":"PRT","8":"PT","9":"10281762","10":"Portugal"},{"1":"31/03/2020","2":"31","3":"3","4":"2020","5":"446","6":"21","7":"PRT","8":"PT","9":"10281762","10":"Portugal"},{"1":"30/03/2020","2":"30","3":"3","4":"2020","5":"792","6":"19","7":"PRT","8":"PT","9":"10281762","10":"Portugal"},{"1":"29/03/2020","2":"29","3":"3","4":"2020","5":"902","6":"24","7":"PRT","8":"PT","9":"10281762","10":"Portugal"},{"1":"28/03/2020","2":"28","3":"3","4":"2020","5":"724","6":"16","7":"PRT","8":"PT","9":"10281762","10":"Portugal"},{"1":"27/03/2020","2":"27","3":"3","4":"2020","5":"549","6":"17","7":"PRT","8":"PT","9":"10281762","10":"Portugal"},{"1":"26/03/2020","2":"26","3":"3","4":"2020","5":"633","6":"10","7":"PRT","8":"PT","9":"10281762","10":"Portugal"},{"1":"25/03/2020","2":"25","3":"3","4":"2020","5":"302","6":"10","7":"PRT","8":"PT","9":"10281762","10":"Portugal"},{"1":"24/03/2020","2":"24","3":"3","4":"2020","5":"460","6":"9","7":"PRT","8":"PT","9":"10281762","10":"Portugal"},{"1":"23/03/2020","2":"23","3":"3","4":"2020","5":"320","6":"2","7":"PRT","8":"PT","9":"10281762","10":"Portugal"},{"1":"22/03/2020","2":"22","3":"3","4":"2020","5":"260","6":"6","7":"PRT","8":"PT","9":"10281762","10":"Portugal"},{"1":"21/03/2020","2":"21","3":"3","4":"2020","5":"235","6":"3","7":"PRT","8":"PT","9":"10281762","10":"Portugal"},{"1":"20/03/2020","2":"20","3":"3","4":"2020","5":"143","6":"1","7":"PRT","8":"PT","9":"10281762","10":"Portugal"},{"1":"19/03/2020","2":"19","3":"3","4":"2020","5":"194","6":"1","7":"PRT","8":"PT","9":"10281762","10":"Portugal"},{"1":"18/03/2020","2":"18","3":"3","4":"2020","5":"117","6":"1","7":"PRT","8":"PT","9":"10281762","10":"Portugal"},{"1":"17/03/2020","2":"17","3":"3","4":"2020","5":"86","6":"0","7":"PRT","8":"PT","9":"10281762","10":"Portugal"},{"1":"16/03/2020","2":"16","3":"3","4":"2020","5":"76","6":"0","7":"PRT","8":"PT","9":"10281762","10":"Portugal"},{"1":"15/03/2020","2":"15","3":"3","4":"2020","5":"57","6":"0","7":"PRT","8":"PT","9":"10281762","10":"Portugal"},{"1":"14/03/2020","2":"14","3":"3","4":"2020","5":"34","6":"0","7":"PRT","8":"PT","9":"10281762","10":"Portugal"},{"1":"13/03/2020","2":"13","3":"3","4":"2020","5":"19","6":"0","7":"PRT","8":"PT","9":"10281762","10":"Portugal"},{"1":"12/03/2020","2":"12","3":"3","4":"2020","5":"18","6":"0","7":"PRT","8":"PT","9":"10281762","10":"Portugal"},{"1":"11/03/2020","2":"11","3":"3","4":"2020","5":"2","6":"0","7":"PRT","8":"PT","9":"10281762","10":"Portugal"},{"1":"10/03/2020","2":"10","3":"3","4":"2020","5":"9","6":"0","7":"PRT","8":"PT","9":"10281762","10":"Portugal"},{"1":"09/03/2020","2":"9","3":"3","4":"2020","5":"9","6":"0","7":"PRT","8":"PT","9":"10281762","10":"Portugal"},{"1":"08/03/2020","2":"8","3":"3","4":"2020","5":"8","6":"0","7":"PRT","8":"PT","9":"10281762","10":"Portugal"},{"1":"07/03/2020","2":"7","3":"3","4":"2020","5":"4","6":"0","7":"PRT","8":"PT","9":"10281762","10":"Portugal"},{"1":"06/03/2020","2":"6","3":"3","4":"2020","5":"4","6":"0","7":"PRT","8":"PT","9":"10281762","10":"Portugal"},{"1":"05/03/2020","2":"5","3":"3","4":"2020","5":"1","6":"0","7":"PRT","8":"PT","9":"10281762","10":"Portugal"},{"1":"04/03/2020","2":"4","3":"3","4":"2020","5":"2","6":"0","7":"PRT","8":"PT","9":"10281762","10":"Portugal"},{"1":"03/03/2020","2":"3","3":"3","4":"2020","5":"2","6":"0","7":"PRT","8":"PT","9":"10281762","10":"Portugal"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>

</div>
